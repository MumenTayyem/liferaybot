import It,{ClayIconSpriteContext as Qr}from"@clayui/icon";import l,{useState as L,useCallback as U,useEffect as N,useLayoutEffect as qr,useRef as P,useMemo as I,createContext as Ge,memo as Ur,useReducer as Ht,useContext as Be}from"react";import*as kr from"react-dom";import $r,{unstable_batchedUpdates as Qe,createPortal as jr}from"react-dom";import Q from"@clayui/layout";import{ClayVerticalNav as gn}from"@clayui/nav";import Pt from"@clayui/loading-indicator";import $n from"@clayui/button";import xt from"@clayui/panel";import{Picker as Kr,Option as Br}from"@clayui/core";import{ClayInput as zr}from"@clayui/form";import{ClayPaginationBarWithBasicItems as Hr}from"@clayui/pagination-bar";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function _t(e,t){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},_t(e,t)}function xe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_t(e,t)}var Te=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var i=this,s=r||function(){};return this.listeners.push(s),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==s}),i.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}();function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(null,arguments)}var lt=typeof window>"u";function B(){}function Gr(e,t){return typeof e=="function"?e(t):e}function Lt(e){return typeof e=="number"&&e>=0&&e!==1/0}function dt(e){return Array.isArray(e)?e:[e]}function jn(e,t){return Math.max(e+(t||0)-Date.now(),0)}function ot(e,t,n){return Ye(e)?typeof t=="function"?w({},n,{queryKey:e,queryFn:t}):w({},t,{queryKey:e}):e}function Yr(e,t,n){return Ye(e)?w({},t,{mutationKey:e}):typeof e=="function"?w({},t,{mutationFn:e}):w({},e)}function he(e,t,n){return Ye(e)?[w({},t,{queryKey:e}),n]:[e||{},t]}function Wr(e,t){if(e===!0&&t===!0||e==null&&t==null)return"all";if(e===!1&&t===!1)return"none";var n=e??!t;return n?"active":"inactive"}function bn(e,t){var n=e.active,r=e.exact,i=e.fetching,s=e.inactive,o=e.predicate,a=e.queryKey,u=e.stale;if(Ye(a)){if(r){if(t.queryHash!==Gt(a,t.options))return!1}else if(!ft(t.queryKey,a))return!1}var c=Wr(n,s);if(c==="none")return!1;if(c!=="all"){var d=t.isActive();if(c==="active"&&!d||c==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||typeof i=="boolean"&&t.isFetching()!==i||o&&!o(t))}function Cn(e,t){var n=e.exact,r=e.fetching,i=e.predicate,s=e.mutationKey;if(Ye(s)){if(!t.options.mutationKey)return!1;if(n){if(ge(t.options.mutationKey)!==ge(s))return!1}else if(!ft(t.options.mutationKey,s))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function Gt(e,t){var n=t?.queryKeyHashFn||ge;return n(e)}function ge(e){var t=dt(e);return Jr(t)}function Jr(e){return JSON.stringify(e,function(t,n){return Qt(n)?Object.keys(n).sort().reduce(function(r,i){return r[i]=n[i],r},{}):n})}function ft(e,t){return Kn(dt(e),dt(t))}function Kn(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(function(n){return!Kn(e[n],t[n])}):!1}function ht(e,t){if(e===t)return e;var n=Array.isArray(e)&&Array.isArray(t);if(n||Qt(e)&&Qt(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),s=i.length,o=n?[]:{},a=0,u=0;u<s;u++){var c=n?u:i[u];o[c]=ht(e[c],t[c]),o[c]===e[c]&&a++}return r===s&&a===r?e:o}return t}function Xr(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function Qt(e){if(!En(e))return!1;var t=e.constructor;if(typeof t>"u")return!0;var n=t.prototype;return!(!En(n)||!n.hasOwnProperty("isPrototypeOf"))}function En(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ye(e){return typeof e=="string"||Array.isArray(e)}function Vr(e){return new Promise(function(t){setTimeout(t,e)})}function wn(e){Promise.resolve().then(e).catch(function(t){return setTimeout(function(){throw t})})}function Bn(){if(typeof AbortController=="function")return new AbortController}var Zr=function(e){xe(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(i){var s;if(!lt&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setFocused(a):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(Te),ke=new Zr,ei=function(e){xe(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(i){var s;if(!lt&&((s=window)!=null&&s.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var s,o=this;this.setup=i,(s=this.cleanup)==null||s.call(this),this.cleanup=i(function(a){typeof a=="boolean"?o.setOnline(a):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(Te),at=new ei;function ti(e){return Math.min(1e3*Math.pow(2,e),3e4)}function vt(e){return typeof e?.cancel=="function"}var zn=function(t){this.revert=t?.revert,this.silent=t?.silent};function ut(e){return e instanceof zn}var Hn=function(t){var n=this,r=!1,i,s,o,a;this.abort=t.abort,this.cancel=function(v){return i?.(v)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return s?.()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(v,h){o=v,a=h});var u=function(h){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(h),s?.(),o(h))},c=function(h){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(h),s?.(),a(h))},d=function(){return new Promise(function(h){s=h,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){s=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},f=function v(){if(!n.isResolved){var h;try{h=t.fn()}catch(y){h=Promise.reject(y)}i=function(p){if(!n.isResolved&&(c(new zn(p)),n.abort==null||n.abort(),vt(h)))try{h.cancel()}catch{}},n.isTransportCancelable=vt(h),Promise.resolve(h).then(u).catch(function(y){var p,b;if(!n.isResolved){var g=(p=t.retry)!=null?p:3,C=(b=t.retryDelay)!=null?b:ti,m=typeof C=="function"?C(n.failureCount,y):C,T=g===!0||typeof g=="number"&&n.failureCount<g||typeof g=="function"&&g(n.failureCount,y);if(r||!T){c(y);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,y),Vr(m).then(function(){if(!ke.isFocused()||!at.isOnline())return d()}).then(function(){r?c(y):v()})}})}};f()},ni=function(){function e(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var t=e.prototype;return t.batch=function(r){var i;this.transactions++;try{i=r()}finally{this.transactions--,this.transactions||this.flush()}return i},t.schedule=function(r){var i=this;this.transactions?this.queue.push(r):wn(function(){i.notifyFn(r)})},t.batchCalls=function(r){var i=this;return function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];i.schedule(function(){r.apply(void 0,o)})}},t.flush=function(){var r=this,i=this.queue;this.queue=[],i.length&&wn(function(){r.batchNotifyFn(function(){i.forEach(function(s){r.notifyFn(s)})})})},t.setNotifyFunction=function(r){this.notifyFn=r},t.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},e}(),A=new ni,Gn=console;function pt(){return Gn}function ri(e){Gn=e}var ii=function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var i;this.options=w({},this.defaultOptions,r),this.meta=r?.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),Lt(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,i){var s,o,a=this.state.data,u=Gr(r,a);return(s=(o=this.options).isDataEqual)!=null&&s.call(o,a,u)?u=a:this.options.structuralSharing!==!1&&(u=ht(a,u)),this.dispatch({data:u,type:"success",dataUpdatedAt:i?.updatedAt}),u},t.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},t.cancel=function(r){var i,s=this.promise;return(i=this.retryer)==null||i.cancel(r),s?s.then(B).catch(B):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!jn(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,i=this.observers.find(function(s){return s.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,i){var s=this,o,a,u;if(this.state.isFetching){if(this.state.dataUpdatedAt&&i?.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(C){return C.options.queryFn});d&&this.setOptions(d.options)}var f=dt(this.queryKey),v=Bn(),h={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(v)return s.abortSignalConsumed=!0,v.signal}});var y=function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(h)):Promise.reject("Missing queryFn")},p={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:y,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var b;(b=this.options.behavior)==null||b.onFetch(p)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=p.fetchOptions)==null?void 0:a.meta)){var g;this.dispatch({type:"fetch",meta:(g=p.fetchOptions)==null?void 0:g.meta})}return this.retryer=new Hn({fn:p.fetchFn,abort:v==null||(u=v.abort)==null?void 0:u.bind(v),onSuccess:function(m){s.setData(m),s.cache.config.onSuccess==null||s.cache.config.onSuccess(m,s),s.cacheTime===0&&s.optionalRemove()},onError:function(m){ut(m)&&m.silent||s.dispatch({type:"error",error:m}),ut(m)||(s.cache.config.onError==null||s.cache.config.onError(m,s),pt().error(m)),s.cacheTime===0&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),A.batch(function(){i.observers.forEach(function(s){s.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof r.initialData<"u",o=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,a=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},t.reducer=function(r,i){var s,o;switch(i.type){case"failed":return w({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return w({},r,{isPaused:!0});case"continue":return w({},r,{isPaused:!1});case"fetch":return w({},r,{fetchFailureCount:0,fetchMeta:(s=i.meta)!=null?s:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return w({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=i.error;return ut(a)&&a.revert&&this.revertState?w({},this.revertState):w({},r,{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return w({},r,{isInvalidated:!0});case"setState":return w({},r,i.state);default:return r}},e}(),si=function(e){xe(t,e);function t(r){var i;return i=e.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=t.prototype;return n.build=function(i,s,o){var a,u=s.queryKey,c=(a=s.queryHash)!=null?a:Gt(u,s),d=this.get(c);return d||(d=new ii({cache:this,queryKey:u,queryHash:c,options:i.defaultQueryOptions(s),state:o,defaultOptions:i.getQueryDefaults(u),meta:s.meta}),this.add(d)),d},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var s=this.queriesMap[i.queryHash];s&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),s===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;A.batch(function(){i.queries.forEach(function(s){i.remove(s)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,s){var o=he(i,s),a=o[0];return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(function(u){return bn(a,u)})},n.findAll=function(i,s){var o=he(i,s),a=o[0];return Object.keys(a).length>0?this.queries.filter(function(u){return bn(a,u)}):this.queries},n.notify=function(i){var s=this;A.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;A.batch(function(){i.queries.forEach(function(s){s.onFocus()})})},n.onOnline=function(){var i=this;A.batch(function(){i.queries.forEach(function(s){s.onOnline()})})},t}(Te),oi=function(){function e(n){this.options=w({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||Yn(),this.meta=n.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(B).catch(B)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,i,s=this.state.status==="loading",o=Promise.resolve();return s||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(a){a!==r.state.context&&r.dispatch({type:"loading",context:a,variables:r.state.variables})})),o.then(function(){return r.executeMutation()}).then(function(a){i=a,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(a){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(a,r.state.variables,r.state.context,r),pt().error(a),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(a,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,a,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:a}),a})})},t.executeMutation=function(){var r=this,i;return this.retryer=new Hn({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var i=this;this.state=ai(this.state,r),A.batch(function(){i.observers.forEach(function(s){s.onMutationUpdate(r)}),i.mutationCache.notify(i)})},e}();function Yn(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function ai(e,t){switch(t.type){case"failed":return w({},e,{failureCount:e.failureCount+1});case"pause":return w({},e,{isPaused:!0});case"continue":return w({},e,{isPaused:!1});case"loading":return w({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return w({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return w({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return w({},e,t.state);default:return e}}var ui=function(e){xe(t,e);function t(r){var i;return i=e.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=t.prototype;return n.build=function(i,s,o){var a=new oi({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(s),state:o,defaultOptions:s.mutationKey?i.getMutationDefaults(s.mutationKey):void 0,meta:s.meta});return this.add(a),a},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(s){return s!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;A.batch(function(){i.mutations.forEach(function(s){i.remove(s)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(s){return Cn(i,s)})},n.findAll=function(i){return this.mutations.filter(function(s){return Cn(i,s)})},n.notify=function(i){var s=this;A.batch(function(){s.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(s){return s.state.isPaused});return A.batch(function(){return i.reduce(function(s,o){return s.then(function(){return o.continue().catch(B)})},Promise.resolve())})},t}(Te);function ci(){return{onFetch:function(t){t.fetchFn=function(){var n,r,i,s,o,a,u=(n=t.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,c=(i=t.fetchOptions)==null||(s=i.meta)==null?void 0:s.fetchMore,d=c?.pageParam,f=c?.direction==="forward",v=c?.direction==="backward",h=((o=t.state.data)==null?void 0:o.pages)||[],y=((a=t.state.data)==null?void 0:a.pageParams)||[],p=Bn(),b=p?.signal,g=y,C=!1,m=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},T=function(j,oe,G,z){return g=z?[oe].concat(g):[].concat(g,[oe]),z?[G].concat(j):[].concat(j,[G])},R=function(j,oe,G,z){if(C)return Promise.reject("Cancelled");if(typeof G>"u"&&!oe&&j.length)return Promise.resolve(j);var Z={queryKey:t.queryKey,signal:b,pageParam:G,meta:t.meta},Y=m(Z),ce=Promise.resolve(Y).then(function(ae){return T(j,G,ae,z)});if(vt(Y)){var be=ce;be.cancel=Y.cancel}return ce},E;if(!h.length)E=R([]);else if(f){var S=typeof d<"u",O=S?d:Sn(t.options,h);E=R(h,S,O)}else if(v){var M=typeof d<"u",D=M?d:li(t.options,h);E=R(h,M,D,!0)}else(function(){g=[];var $=typeof t.options.getNextPageParam>"u",j=u&&h[0]?u(h[0],0,h):!0;E=j?R([],$,y[0]):Promise.resolve(T([],y[0],h[0]));for(var oe=function(Z){E=E.then(function(Y){var ce=u&&h[Z]?u(h[Z],Z,h):!0;if(ce){var be=$?y[Z]:Sn(t.options,Y);return R(Y,$,be)}return Promise.resolve(T(Y,y[Z],h[Z]))})},G=1;G<h.length;G++)oe(G)})();var F=E.then(function($){return{pages:$,pageParams:g}}),k=F;return k.cancel=function(){C=!0,p?.abort(),vt(E)&&E.cancel()},F}}}}function Sn(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function li(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var di=function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new si,this.mutationCache=n.mutationCache||new ui,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=ke.subscribe(function(){ke.isFocused()&&at.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=at.subscribe(function(){ke.isFocused()&&at.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},t.isFetching=function(r,i){var s=he(r,i),o=s[0];return o.fetching=!0,this.queryCache.findAll(o).length},t.isMutating=function(r){return this.mutationCache.findAll(w({},r,{fetching:!0})).length},t.getQueryData=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var s=i.queryKey,o=i.state,a=o.data;return[s,a]})},t.setQueryData=function(r,i,s){var o=ot(r),a=this.defaultQueryOptions(o);return this.queryCache.build(this,a).setData(i,s)},t.setQueriesData=function(r,i,s){var o=this;return A.batch(function(){return o.getQueryCache().findAll(r).map(function(a){var u=a.queryKey;return[u,o.setQueryData(u,i,s)]})})},t.getQueryState=function(r,i){var s;return(s=this.queryCache.find(r,i))==null?void 0:s.state},t.removeQueries=function(r,i){var s=he(r,i),o=s[0],a=this.queryCache;A.batch(function(){a.findAll(o).forEach(function(u){a.remove(u)})})},t.resetQueries=function(r,i,s){var o=this,a=he(r,i,s),u=a[0],c=a[1],d=this.queryCache,f=w({},u,{active:!0});return A.batch(function(){return d.findAll(u).forEach(function(v){v.reset()}),o.refetchQueries(f,c)})},t.cancelQueries=function(r,i,s){var o=this,a=he(r,i,s),u=a[0],c=a[1],d=c===void 0?{}:c;typeof d.revert>"u"&&(d.revert=!0);var f=A.batch(function(){return o.queryCache.findAll(u).map(function(v){return v.cancel(d)})});return Promise.all(f).then(B).catch(B)},t.invalidateQueries=function(r,i,s){var o,a,u,c=this,d=he(r,i,s),f=d[0],v=d[1],h=w({},f,{active:(o=(a=f.refetchActive)!=null?a:f.active)!=null?o:!0,inactive:(u=f.refetchInactive)!=null?u:!1});return A.batch(function(){return c.queryCache.findAll(f).forEach(function(y){y.invalidate()}),c.refetchQueries(h,v)})},t.refetchQueries=function(r,i,s){var o=this,a=he(r,i,s),u=a[0],c=a[1],d=A.batch(function(){return o.queryCache.findAll(u).map(function(v){return v.fetch(void 0,w({},c,{meta:{refetchPage:u?.refetchPage}}))})}),f=Promise.all(d).then(B);return c?.throwOnError||(f=f.catch(B)),f},t.fetchQuery=function(r,i,s){var o=ot(r,i,s),a=this.defaultQueryOptions(o);typeof a.retry>"u"&&(a.retry=!1);var u=this.queryCache.build(this,a);return u.isStaleByTime(a.staleTime)?u.fetch(a):Promise.resolve(u.state.data)},t.prefetchQuery=function(r,i,s){return this.fetchQuery(r,i,s).then(B).catch(B)},t.fetchInfiniteQuery=function(r,i,s){var o=ot(r,i,s);return o.behavior=ci(),this.fetchQuery(o)},t.prefetchInfiniteQuery=function(r,i,s){return this.fetchInfiniteQuery(r,i,s).then(B).catch(B)},t.cancelMutations=function(){var r=this,i=A.batch(function(){return r.mutationCache.getAll().map(function(s){return s.cancel()})});return Promise.all(i).then(B).catch(B)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,i){var s=this.queryDefaults.find(function(o){return ge(r)===ge(o.queryKey)});s?s.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},t.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(s){return ft(r,s.queryKey)}))==null?void 0:i.defaultOptions:void 0},t.setMutationDefaults=function(r,i){var s=this.mutationDefaults.find(function(o){return ge(r)===ge(o.mutationKey)});s?s.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},t.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(s){return ft(r,s.mutationKey)}))==null?void 0:i.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r?._defaulted)return r;var i=w({},this.defaultOptions.queries,this.getQueryDefaults(r?.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Gt(i.queryKey,i)),i},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r?._defaulted?r:w({},this.defaultOptions.mutations,this.getMutationDefaults(r?.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),fi=function(e){xe(t,e);function t(r,i){var s;return s=e.call(this)||this,s.client=r,s.options=i,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(i),s}var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Rn(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return qt(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return qt(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,s){var o=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var u=this.hasListeners();u&&On(this.currentQuery,a,this.options,o)&&this.executeFetch(),this.updateResult(s),u&&(this.currentQuery!==a||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();u&&(this.currentQuery!==a||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(i){var s=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,s);return this.createResult(o,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,s){var o=this,a={},u=function(d){o.trackedProps.includes(d)||o.trackedProps.push(d)};return Object.keys(i).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:function(){return u(c),i[c]}})}),(s.useErrorBoundary||s.suspense)&&u("error"),a},n.getNextResult=function(i){var s=this;return new Promise(function(o,a){var u=s.subscribe(function(c){c.isFetching||(u(),c.isError&&i?.throwOnError?a(c.error):o(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(w({},i,{meta:{refetchPage:i?.refetchPage}}))},n.fetchOptimistic=function(i){var s=this,o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return a.fetch().then(function(){return s.createResult(a,o)})},n.fetch=function(i){var s=this;return this.executeFetch(i).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(i){this.updateQuery();var s=this.currentQuery.fetch(this.options,i);return i?.throwOnError||(s=s.catch(B)),s},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(lt||this.currentResult.isStale||!Lt(this.options.staleTime))){var s=jn(this.currentResult.dataUpdatedAt,this.options.staleTime),o=s+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(lt||this.options.enabled===!1||!Lt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||ke.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,s){var o=this.currentQuery,a=this.options,u=this.currentResult,c=this.currentResultState,d=this.currentResultOptions,f=i!==o,v=f?i.state:this.currentQueryInitialState,h=f?this.currentResult:this.previousQueryResult,y=i.state,p=y.dataUpdatedAt,b=y.error,g=y.errorUpdatedAt,C=y.isFetching,m=y.status,T=!1,R=!1,E;if(s.optimisticResults){var S=this.hasListeners(),O=!S&&Rn(i,s),M=S&&On(i,o,s,a);(O||M)&&(C=!0,p||(m="loading"))}if(s.keepPreviousData&&!y.dataUpdateCount&&h?.isSuccess&&m!=="error")E=h.data,p=h.dataUpdatedAt,m=h.status,T=!0;else if(s.select&&typeof y.data<"u")if(u&&y.data===c?.data&&s.select===this.selectFn)E=this.selectResult;else try{this.selectFn=s.select,E=s.select(y.data),s.structuralSharing!==!1&&(E=ht(u?.data,E)),this.selectResult=E,this.selectError=null}catch(k){pt().error(k),this.selectError=k}else E=y.data;if(typeof s.placeholderData<"u"&&typeof E>"u"&&(m==="loading"||m==="idle")){var D;if(u?.isPlaceholderData&&s.placeholderData===d?.placeholderData)D=u.data;else if(D=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof D<"u")try{D=s.select(D),s.structuralSharing!==!1&&(D=ht(u?.data,D)),this.selectError=null}catch(k){pt().error(k),this.selectError=k}typeof D<"u"&&(m="success",E=D,R=!0)}this.selectError&&(b=this.selectError,E=this.selectResult,g=Date.now(),m="error");var F={status:m,isLoading:m==="loading",isSuccess:m==="success",isError:m==="error",isIdle:m==="idle",data:E,dataUpdatedAt:p,error:b,errorUpdatedAt:g,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>v.dataUpdateCount||y.errorUpdateCount>v.errorUpdateCount,isFetching:C,isRefetching:C&&m!=="loading",isLoadingError:m==="error"&&y.dataUpdatedAt===0,isPlaceholderData:R,isPreviousData:T,isRefetchError:m==="error"&&y.dataUpdatedAt!==0,isStale:Yt(i,s),refetch:this.refetch,remove:this.remove};return F},n.shouldNotifyListeners=function(i,s){if(!s)return!0;var o=this.options,a=o.notifyOnChangeProps,u=o.notifyOnChangePropsExclusions;if(!a&&!u||a==="tracked"&&!this.trackedProps.length)return!0;var c=a==="tracked"?this.trackedProps:a;return Object.keys(i).some(function(d){var f=d,v=i[f]!==s[f],h=c?.some(function(p){return p===d}),y=u?.some(function(p){return p===d});return v&&!y&&(!c||h)})},n.updateResult=function(i){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Xr(this.currentResult,s)){var o={cache:!0};i?.listeners!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(o.listeners=!0),this.notify(w({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var s=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s?.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var s={};i.type==="success"?s.onSuccess=!0:i.type==="error"&&!ut(i.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var s=this;A.batch(function(){i.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):i.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)}),i.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},t}(Te);function hi(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Rn(e,t){return hi(e,t)||e.state.dataUpdatedAt>0&&qt(e,t,t.refetchOnMount)}function qt(e,t,n){if(t.enabled!==!1){var r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Yt(e,t)}return!1}function On(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&Yt(e,n)}function Yt(e,t){return e.isStaleByTime(t.staleTime)}var vi=function(e){xe(t,e);function t(r,i){var s;return s=e.call(this)||this,s.client=r,s.setOptions(i),s.bindMethods(),s.updateResult(),s}var n=t.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},n.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},n.onMutationUpdate=function(i){this.updateResult();var s={listeners:!0};i.type==="success"?s.onSuccess=!0:i.type==="error"&&(s.onError=!0),this.notify(s)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(i,s){return this.mutateOptions=s,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,w({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:Yn(),s=w({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=s},n.notify=function(i){var s=this;A.batch(function(){s.mutateOptions&&(i.onSuccess?(s.mutateOptions.onSuccess==null||s.mutateOptions.onSuccess(s.currentResult.data,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(s.currentResult.data,null,s.currentResult.variables,s.currentResult.context)):i.onError&&(s.mutateOptions.onError==null||s.mutateOptions.onError(s.currentResult.error,s.currentResult.variables,s.currentResult.context),s.mutateOptions.onSettled==null||s.mutateOptions.onSettled(void 0,s.currentResult.error,s.currentResult.variables,s.currentResult.context))),i.listeners&&s.listeners.forEach(function(o){o(s.currentResult)})})},t}(Te),pi=$r.unstable_batchedUpdates;A.setBatchNotifyFunction(pi);var yi=console;ri(yi);var Dn=l.createContext(void 0),Wn=l.createContext(!1);function Jn(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Dn),window.ReactQueryClientContext):Dn}var We=function(){var t=l.useContext(Jn(l.useContext(Wn)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},mi=function(t){var n=t.client,r=t.contextSharing,i=r===void 0?!1:r,s=t.children;l.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=Jn(i);return l.createElement(Wn.Provider,{value:i},l.createElement(o.Provider,{value:n},s))};function gi(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var bi=l.createContext(gi()),Ci=function(){return l.useContext(bi)};function Xn(e,t,n){return typeof t=="function"?t.apply(void 0,n):typeof t=="boolean"?t:!!e}function Wt(e,t,n){var r=l.useRef(!1),i=l.useState(0),s=i[1],o=Yr(e,t),a=We(),u=l.useRef();u.current?u.current.setOptions(o):u.current=new vi(a,o);var c=u.current.getCurrentResult();l.useEffect(function(){r.current=!0;var f=u.current.subscribe(A.batchCalls(function(){r.current&&s(function(v){return v+1})}));return function(){r.current=!1,f()}},[]);var d=l.useCallback(function(f,v){u.current.mutate(f,v).catch(B)},[]);if(c.error&&Xn(void 0,u.current.options.useErrorBoundary,[c.error]))throw c.error;return w({},c,{mutate:d,mutateAsync:c.mutate})}function Ei(e,t){var n=l.useRef(!1),r=l.useState(0),i=r[1],s=We(),o=Ci(),a=s.defaultQueryObserverOptions(e);a.optimisticResults=!0,a.onError&&(a.onError=A.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=A.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=A.batchCalls(a.onSettled)),a.suspense&&(typeof a.staleTime!="number"&&(a.staleTime=1e3),a.cacheTime===0&&(a.cacheTime=1)),(a.suspense||a.useErrorBoundary)&&(o.isReset()||(a.retryOnMount=!1));var u=l.useState(function(){return new t(s,a)}),c=u[0],d=c.getOptimisticResult(a);if(l.useEffect(function(){n.current=!0,o.clearReset();var f=c.subscribe(A.batchCalls(function(){n.current&&i(function(v){return v+1})}));return c.updateResult(),function(){n.current=!1,f()}},[o,c]),l.useEffect(function(){c.setOptions(a,{listeners:!1})},[a,c]),a.suspense&&d.isLoading)throw c.fetchOptimistic(a).then(function(f){var v=f.data;a.onSuccess==null||a.onSuccess(v),a.onSettled==null||a.onSettled(v,null)}).catch(function(f){o.clearReset(),a.onError==null||a.onError(f),a.onSettled==null||a.onSettled(void 0,f)});if(d.isError&&!o.isReset()&&!d.isFetching&&Xn(a.suspense,a.useErrorBoundary,[d.error,c.getCurrentQuery()]))throw d.error;return a.notifyOnChangeProps==="tracked"&&(d=c.trackResult(d,a)),d}function Vn(e,t,n){var r=ot(e,t,n);return Ei(r,fi)}function wi(e){const[t,n]=L(()=>window.location.hash||e),r=U(()=>{n(window.location.hash)},[]);N(()=>(window.addEventListener("hashchange",r),()=>{window.removeEventListener("hashchange",r)}),[r]);const i=U(s=>{s!==t&&(window.location.hash=s)},[t]);return{hash:t,updateHash:i}}var De=(e=>(e[e.INTEGRATED=0]="INTEGRATED",e[e.STANDALONE=1]="STANDALONE",e))(De||{});const Ct=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ae(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Jt(e){return"nodeType"in e}function H(e){var t,n;return e?Ae(e)?e:Jt(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function Xt(e){const{Document:t}=H(e);return e instanceof t}function Je(e){return Ae(e)?!1:e instanceof H(e).HTMLElement}function Zn(e){return e instanceof H(e).SVGElement}function Me(e){return e?Ae(e)?e.document:Jt(e)?Xt(e)?e:Je(e)||Zn(e)?e.ownerDocument:document:document:document}const ue=Ct?qr:N;function Vt(e){const t=P(e);return ue(()=>{t.current=e}),U(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function Si(){const e=P(null),t=U((r,i)=>{e.current=setInterval(r,i)},[]),n=U(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ze(e,t){t===void 0&&(t=[e]);const n=P(e);return ue(()=>{n.current!==e&&(n.current=e)},t),n}function Xe(e,t){const n=P();return I(()=>{const r=e(n.current);return n.current=r,r},[...t])}function yt(e){const t=Vt(e),n=P(null),r=U(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function Ut(e){const t=P();return N(()=>{t.current=e},[e]),t.current}let Tt={};function Et(e,t){return I(()=>{if(t)return t;const n=Tt[e]==null?0:Tt[e]+1;return Tt[e]=n,e+"-"+n},[e,t])}function er(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const a=Object.entries(o);for(const[u,c]of a){const d=s[u];d!=null&&(s[u]=d+e*c)}return s},{...t})}}const Oe=er(1),mt=er(-1);function Ri(e){return"clientX"in e&&"clientY"in e}function tr(e){if(!e)return!1;const{KeyboardEvent:t}=H(e.target);return t&&e instanceof t}function Oi(e){if(!e)return!1;const{TouchEvent:t}=H(e.target);return t&&e instanceof t}function kt(e){if(Oi(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return Ri(e)?{x:e.clientX,y:e.clientY}:null}const $t=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[$t.Translate.toString(e),$t.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),xn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Di(e){return e.matches(xn)?e:e.querySelector(xn)}const xi={display:"none"};function Ti(e){let{id:t,value:n}=e;return l.createElement("div",{id:t,style:xi},n)}function Ai(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return l.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function Mi(){const[e,t]=L("");return{announce:U(r=>{r!=null&&t(r)},[]),announcement:e}}const nr=Ge(null);function Fi(e){const t=Be(nr);N(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Ni(){const[e]=L(()=>new Set),t=U(r=>(e.add(r),()=>e.delete(r)),[e]);return[U(r=>{let{type:i,event:s}=r;e.forEach(o=>{var a;return(a=o[i])==null?void 0:a.call(o,s)})},[e]),t]}const Ii={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Pi={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function _i(e){let{announcements:t=Pi,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=Ii}=e;const{announce:s,announcement:o}=Mi(),a=Et("DndLiveRegion"),[u,c]=L(!1);if(N(()=>{c(!0)},[]),Fi(I(()=>({onDragStart(f){let{active:v}=f;s(t.onDragStart({active:v}))},onDragMove(f){let{active:v,over:h}=f;t.onDragMove&&s(t.onDragMove({active:v,over:h}))},onDragOver(f){let{active:v,over:h}=f;s(t.onDragOver({active:v,over:h}))},onDragEnd(f){let{active:v,over:h}=f;s(t.onDragEnd({active:v,over:h}))},onDragCancel(f){let{active:v,over:h}=f;s(t.onDragCancel({active:v,over:h}))}}),[s,t])),!u)return null;const d=l.createElement(l.Fragment,null,l.createElement(Ti,{id:r,value:i.draggable}),l.createElement(Ai,{id:a,announcement:o}));return n?jr(d,n):d}var _;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(_||(_={}));function gt(){}const ie=Object.freeze({x:0,y:0});function Li(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Qi(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function qi(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=i-r,a=s-n;if(r<i&&n<s){const u=t.width*t.height,c=e.width*e.height,d=o*a,f=d/(u+c-d);return Number(f.toFixed(4))}return 0}const Ui=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:o}=s,a=n.get(o);if(a){const u=qi(a,t);u>0&&i.push({id:o,data:{droppableContainer:s,value:u}})}}return i.sort(Li)};function ki(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function rr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ie}function $i(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,a)=>({...o,top:o.top+e*a.y,bottom:o.bottom+e*a.y,left:o.left+e*a.x,right:o.right+e*a.x}),{...n})}}const ji=$i(1);function Ki(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Bi(e,t,n){const r=Ki(t);if(!r)return e;const{scaleX:i,scaleY:s,x:o,y:a}=r,u=e.left-o-(1-i)*parseFloat(n),c=e.top-a-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=s?e.height/s:e.height;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u}}const zi={ignoreTransform:!1};function Ve(e,t){t===void 0&&(t=zi);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:d}=H(e).getComputedStyle(e);c&&(n=Bi(n,c,d))}const{top:r,left:i,width:s,height:o,bottom:a,right:u}=n;return{top:r,left:i,width:s,height:o,bottom:a,right:u}}function Tn(e){return Ve(e,{ignoreTransform:!0})}function Hi(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Gi(e,t){return t===void 0&&(t=H(e).getComputedStyle(e)),t.position==="fixed"}function Yi(e,t){t===void 0&&(t=H(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function Zt(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(Xt(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Je(i)||Zn(i)||n.includes(i))return n;const s=H(e).getComputedStyle(i);return i!==e&&Yi(i,s)&&n.push(i),Gi(i,s)?n:r(i.parentNode)}return e?r(e):n}function ir(e){const[t]=Zt(e,1);return t??null}function At(e){return!Ct||!e?null:Ae(e)?e:Jt(e)?Xt(e)||e===Me(e).scrollingElement?window:Je(e)?e:null:null}function sr(e){return Ae(e)?e.scrollX:e.scrollLeft}function or(e){return Ae(e)?e.scrollY:e.scrollTop}function jt(e){return{x:sr(e),y:or(e)}}var q;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(q||(q={}));function ar(e){return!Ct||!e?!1:e===document.scrollingElement}function ur(e){const t={x:0,y:0},n=ar(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:a,maxScroll:r,minScroll:t}}const Wi={x:.2,y:.2};function Ji(e,t,n,r,i){let{top:s,left:o,right:a,bottom:u}=n;r===void 0&&(r=10),i===void 0&&(i=Wi);const{isTop:c,isBottom:d,isLeft:f,isRight:v}=ur(e),h={x:0,y:0},y={x:0,y:0},p={height:t.height*i.y,width:t.width*i.x};return!c&&s<=t.top+p.height?(h.y=q.Backward,y.y=r*Math.abs((t.top+p.height-s)/p.height)):!d&&u>=t.bottom-p.height&&(h.y=q.Forward,y.y=r*Math.abs((t.bottom-p.height-u)/p.height)),!v&&a>=t.right-p.width?(h.x=q.Forward,y.x=r*Math.abs((t.right-p.width-a)/p.width)):!f&&o<=t.left+p.width&&(h.x=q.Backward,y.x=r*Math.abs((t.left+p.width-o)/p.width)),{direction:h,speed:y}}function Xi(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function cr(e){return e.reduce((t,n)=>Oe(t,jt(n)),ie)}function Vi(e){return e.reduce((t,n)=>t+sr(n),0)}function Zi(e){return e.reduce((t,n)=>t+or(n),0)}function es(e,t){if(t===void 0&&(t=Ve),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);ir(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const ts=[["x",["left","right"],Vi],["y",["top","bottom"],Zi]];class en{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Zt(n),i=cr(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,a]of ts)for(const u of o)Object.defineProperty(this,u,{get:()=>{const c=a(r),d=i[s]-c;return this.rect[u]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class $e{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function ns(e){const{EventTarget:t}=H(e);return e instanceof t?e:Me(e)}function Mt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var V;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(V||(V={}));function An(e){e.preventDefault()}function rs(e){e.stopPropagation()}var x;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(x||(x={}));const lr={start:[x.Space,x.Enter],cancel:[x.Esc],end:[x.Space,x.Enter]},is=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case x.Right:return{...n,x:n.x+25};case x.Left:return{...n,x:n.x-25};case x.Down:return{...n,y:n.y+25};case x.Up:return{...n,y:n.y-25}}};class dr{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new $e(Me(n)),this.windowListeners=new $e(H(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(V.Resize,this.handleCancel),this.windowListeners.add(V.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(V.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&es(r),n(ie)}handleKeyDown(t){if(tr(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=lr,coordinateGetter:o=is,scrollBehavior:a="smooth"}=i,{code:u}=t;if(s.end.includes(u)){this.handleEnd(t);return}if(s.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:ie;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:n,context:r.current,currentCoordinates:d});if(f){const v=mt(f,d),h={x:0,y:0},{scrollableAncestors:y}=r.current;for(const p of y){const b=t.code,{isTop:g,isRight:C,isLeft:m,isBottom:T,maxScroll:R,minScroll:E}=ur(p),S=Xi(p),O={x:Math.min(b===x.Right?S.right-S.width/2:S.right,Math.max(b===x.Right?S.left:S.left+S.width/2,f.x)),y:Math.min(b===x.Down?S.bottom-S.height/2:S.bottom,Math.max(b===x.Down?S.top:S.top+S.height/2,f.y))},M=b===x.Right&&!C||b===x.Left&&!m,D=b===x.Down&&!T||b===x.Up&&!g;if(M&&O.x!==f.x){const F=p.scrollLeft+v.x,k=b===x.Right&&F<=R.x||b===x.Left&&F>=E.x;if(k&&!v.y){p.scrollTo({left:F,behavior:a});return}k?h.x=p.scrollLeft-F:h.x=b===x.Right?p.scrollLeft-R.x:p.scrollLeft-E.x,h.x&&p.scrollBy({left:-h.x,behavior:a});break}else if(D&&O.y!==f.y){const F=p.scrollTop+v.y,k=b===x.Down&&F<=R.y||b===x.Up&&F>=E.y;if(k&&!v.x){p.scrollTo({top:F,behavior:a});return}k?h.y=p.scrollTop-F:h.y=b===x.Down?p.scrollTop-R.y:p.scrollTop-E.y,h.y&&p.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(t,Oe(mt(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}dr.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=lr,onActivation:i}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const a=s.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Mn(e){return!!(e&&"distance"in e)}function Fn(e){return!!(e&&"delay"in e)}class tn{constructor(t,n,r){var i;r===void 0&&(r=ns(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:o}=s;this.props=t,this.events=n,this.document=Me(o),this.documentListeners=new $e(this.document),this.listeners=new $e(r),this.windowListeners=new $e(H(o)),this.initialCoordinates=(i=kt(s))!=null?i:ie,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(V.Resize,this.handleCancel),this.windowListeners.add(V.DragStart,An),this.windowListeners.add(V.VisibilityChange,this.handleCancel),this.windowListeners.add(V.ContextMenu,An),this.documentListeners.add(V.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Fn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(Mn(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(V.Click,rs,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(V.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:a}}=s;if(!i)return;const u=(n=kt(t))!=null?n:ie,c=mt(i,u);if(!r&&a){if(Mn(a)){if(a.tolerance!=null&&Mt(c,a.tolerance))return this.handleCancel();if(Mt(c,a.distance))return this.handleStart()}return Fn(a)&&Mt(c,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===x.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const ss={move:{name:"pointermove"},end:{name:"pointerup"}};class fr extends tn{constructor(t){const{event:n}=t,r=Me(n.target);super(t,ss,r)}}fr.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const os={move:{name:"mousemove"},end:{name:"mouseup"}};var Kt;(function(e){e[e.RightClick=2]="RightClick"})(Kt||(Kt={}));class as extends tn{constructor(t){super(t,os,Me(t.event.target))}}as.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===Kt.RightClick?!1:(r?.({event:n}),!0)}}];const Ft={move:{name:"touchmove"},end:{name:"touchend"}};class us extends tn{constructor(t){super(t,Ft)}static setup(){return window.addEventListener(Ft.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Ft.move.name,t)};function t(){}}}us.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var je;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(je||(je={}));var bt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(bt||(bt={}));function cs(e){let{acceleration:t,activator:n=je.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:a=bt.TreeOrder,pointerCoordinates:u,scrollableAncestors:c,scrollableAncestorRects:d,delta:f,threshold:v}=e;const h=ds({delta:f,disabled:!s}),[y,p]=Si(),b=P({x:0,y:0}),g=P({x:0,y:0}),C=I(()=>{switch(n){case je.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case je.DraggableRect:return i}},[n,i,u]),m=P(null),T=U(()=>{const E=m.current;if(!E)return;const S=b.current.x*g.current.x,O=b.current.y*g.current.y;E.scrollBy(S,O)},[]),R=I(()=>a===bt.TreeOrder?[...c].reverse():c,[a,c]);N(()=>{if(!s||!c.length||!C){p();return}for(const E of R){if(r?.(E)===!1)continue;const S=c.indexOf(E),O=d[S];if(!O)continue;const{direction:M,speed:D}=Ji(E,O,C,t,v);for(const F of["x","y"])h[F][M[F]]||(D[F]=0,M[F]=0);if(D.x>0||D.y>0){p(),m.current=E,y(T,o),b.current=D,g.current=M;return}}b.current={x:0,y:0},g.current={x:0,y:0},p()},[t,T,r,p,s,o,JSON.stringify(C),JSON.stringify(h),y,c,R,d,JSON.stringify(v)])}const ls={x:{[q.Backward]:!1,[q.Forward]:!1},y:{[q.Backward]:!1,[q.Forward]:!1}};function ds(e){let{delta:t,disabled:n}=e;const r=Ut(t);return Xe(i=>{if(n||!r||!i)return ls;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[q.Backward]:i.x[q.Backward]||s.x===-1,[q.Forward]:i.x[q.Forward]||s.x===1},y:{[q.Backward]:i.y[q.Backward]||s.y===-1,[q.Forward]:i.y[q.Forward]||s.y===1}}},[n,t,r])}function fs(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Xe(i=>{var s;return t===null?null:(s=r??i)!=null?s:null},[r,t])}function hs(e,t){return I(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...s]},[]),[e,t])}var He;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(He||(He={}));var Bt;(function(e){e.Optimized="optimized"})(Bt||(Bt={}));const Nn=new Map;function vs(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,o]=L(null),{frequency:a,measure:u,strategy:c}=i,d=P(e),f=b(),v=ze(f),h=U(function(g){g===void 0&&(g=[]),!v.current&&o(C=>C===null?g:C.concat(g.filter(m=>!C.includes(m))))},[v]),y=P(null),p=Xe(g=>{if(f&&!n)return Nn;if(!g||g===Nn||d.current!==e||s!=null){const C=new Map;for(let m of e){if(!m)continue;if(s&&s.length>0&&!s.includes(m.id)&&m.rect.current){C.set(m.id,m.rect.current);continue}const T=m.node.current,R=T?new en(u(T),T):null;m.rect.current=R,R&&C.set(m.id,R)}return C}return g},[e,s,n,f,u]);return N(()=>{d.current=e},[e]),N(()=>{f||h()},[n,f]),N(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),N(()=>{f||typeof a!="number"||y.current!==null||(y.current=setTimeout(()=>{h(),y.current=null},a))},[a,f,h,...r]),{droppableRects:p,measureDroppableContainers:h,measuringScheduled:s!=null};function b(){switch(c){case He.Always:return!1;case He.BeforeDragging:return n;default:return!n}}}function hr(e,t){return Xe(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function ps(e,t){return hr(e,t)}function ys(e){let{callback:t,disabled:n}=e;const r=Vt(t),i=I(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return N(()=>()=>i?.disconnect(),[i]),i}function wt(e){let{callback:t,disabled:n}=e;const r=Vt(t),i=I(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return N(()=>()=>i?.disconnect(),[i]),i}function ms(e){return new en(Ve(e),e)}function In(e,t,n){t===void 0&&(t=ms);const[r,i]=Ht(a,null),s=ys({callback(u){if(e)for(const c of u){const{type:d,target:f}=c;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),o=wt({callback:i});return ue(()=>{i(),e?(o?.observe(e),s?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),s?.disconnect())},[e]),r;function a(u){if(!e)return null;if(e.isConnected===!1){var c;return(c=u??n)!=null?c:null}const d=t(e);return JSON.stringify(u)===JSON.stringify(d)?u:d}}function gs(e){const t=hr(e);return rr(e,t)}const Pn=[];function bs(e){const t=P(e),n=Xe(r=>e?r&&r!==Pn&&e&&t.current&&e.parentNode===t.current.parentNode?r:Zt(e):Pn,[e]);return N(()=>{t.current=e},[e]),n}function Cs(e){const[t,n]=L(null),r=P(e),i=U(s=>{const o=At(s.target);o&&n(a=>a?(a.set(o,jt(o)),new Map(a)):null)},[]);return N(()=>{const s=r.current;if(e!==s){o(s);const a=e.map(u=>{const c=At(u);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,jt(c)]):null}).filter(u=>u!=null);n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(s)};function o(a){a.forEach(u=>{const c=At(u);c?.removeEventListener("scroll",i)})}},[i,e]),I(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>Oe(s,o),ie):cr(e):ie,[e,t])}function _n(e,t){t===void 0&&(t=[]);const n=P(null);return N(()=>{n.current=null},t),N(()=>{const r=e!==ie;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?mt(e,n.current):ie}function Es(e){N(()=>{if(!Ct)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function ws(e,t){return I(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,t)},n},{}),[e,t])}function vr(e){return I(()=>e?Hi(e):null,[e])}const Nt=[];function Ss(e,t){t===void 0&&(t=Ve);const[n]=e,r=vr(n?H(n):null),[i,s]=Ht(a,Nt),o=wt({callback:s});return e.length>0&&i===Nt&&s(),ue(()=>{e.length?e.forEach(u=>o?.observe(u)):(o?.disconnect(),s())},[e]),i;function a(){return e.length?e.map(u=>ar(u)?r:new en(t(u),u)):Nt}}function Rs(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Je(t)?t:e}function Os(e){let{measure:t}=e;const[n,r]=L(null),i=U(c=>{for(const{target:d}of c)if(Je(d)){r(f=>{const v=t(d);return f?{...f,width:v.width,height:v.height}:v});break}},[t]),s=wt({callback:i}),o=U(c=>{const d=Rs(c);s?.disconnect(),d&&s?.observe(d),r(d?t(d):null)},[t,s]),[a,u]=yt(o);return I(()=>({nodeRef:a,rect:n,setRef:u}),[n,a,u])}const Ds=[{sensor:fr,options:{}},{sensor:dr,options:{}}],xs={current:{}},ct={draggable:{measure:Tn},droppable:{measure:Tn,strategy:He.WhileDragging,frequency:Bt.Optimized},dragOverlay:{measure:Ve}};class Ke extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Ts={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ke,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ct,measureDroppableContainers:gt,windowRect:null,measuringScheduled:!1},As={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gt,draggableNodes:new Map,over:null,measureDroppableContainers:gt},St=Ge(As),Ms=Ge(Ts);function Fs(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ke}}}function Ns(e,t){switch(t.type){case _.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case _.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case _.DragEnd:case _.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Ke(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case _.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new Ke(e.droppable.containers);return o.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case _.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Ke(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function Is(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=Be(St),s=Ut(r),o=Ut(n?.id);return N(()=>{if(!t&&!r&&s&&o!=null){if(!tr(s)||document.activeElement===s.target)return;const a=i.get(o);if(!a)return;const{activatorNode:u,node:c}=a;if(!u.current&&!c.current)return;requestAnimationFrame(()=>{for(const d of[u.current,c.current]){if(!d)continue;const f=Di(d);if(f){f.focus();break}}})}},[r,t,i,o,s]),null}function Ps(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function _s(e){return I(()=>({draggable:{...ct.draggable,...e?.draggable},droppable:{...ct.droppable,...e?.droppable},dragOverlay:{...ct.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function Ls(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=P(!1),{x:o,y:a}=typeof i=="boolean"?{x:i,y:i}:i;ue(()=>{if(!o&&!a||!t){s.current=!1;return}if(s.current||!r)return;const c=t?.node.current;if(!c||c.isConnected===!1)return;const d=n(c),f=rr(d,r);if(o||(f.x=0),a||(f.y=0),s.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const v=ir(c);v&&v.scrollBy({top:f.y,left:f.x})}},[t,o,a,r,n])}const pr=Ge({...ie,scaleX:1,scaleY:1});var ve;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ve||(ve={}));const Qs=Ur(function(t){var n,r,i,s;let{id:o,accessibility:a,autoScroll:u=!0,children:c,sensors:d=Ds,collisionDetection:f=Ui,measuring:v,modifiers:h,...y}=t;const p=Ht(Ns,void 0,Fs),[b,g]=p,[C,m]=Ni(),[T,R]=L(ve.Uninitialized),E=T===ve.Initialized,{draggable:{active:S,nodes:O,translate:M},droppable:{containers:D}}=b,F=S?O.get(S):null,k=P({initial:null,translated:null}),$=I(()=>{var K;return S!=null?{id:S,data:(K=F?.data)!=null?K:xs,rect:k}:null},[S,F]),j=P(null),[oe,G]=L(null),[z,Z]=L(null),Y=ze(y,Object.values(y)),ce=Et("DndDescribedBy",o),be=I(()=>D.getEnabled(),[D]),ae=_s(v),{droppableRects:Ce,measureDroppableContainers:Ze,measuringScheduled:rn}=vs(be,{dragging:E,dependencies:[M.x,M.y],config:ae.droppable}),ee=fs(O,S),sn=I(()=>z?kt(z):null,[z]),on=Lr(),an=ps(ee,ae.draggable.measure);Ls({activeNode:S?O.get(S):null,config:on.layoutShiftCompensation,initialRect:an,measure:ae.draggable.measure});const te=In(ee,ae.draggable.measure,an),Rt=In(ee?ee.parentElement:null),ye=P({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:Ce,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),un=D.getNodeFor((n=ye.current.over)==null?void 0:n.id),me=Os({measure:ae.dragOverlay.measure}),et=(r=me.nodeRef.current)!=null?r:ee,Ee=E?(i=me.rect)!=null?i:te:null,cn=!!(me.nodeRef.current&&me.rect),ln=gs(cn?null:te),Ot=vr(et?H(et):null),le=bs(E?un??ee:null),tt=Ss(le),nt=Ps(h,{transform:{x:M.x-ln.x,y:M.y-ln.y,scaleX:1,scaleY:1},activatorEvent:z,active:$,activeNodeRect:te,containerNodeRect:Rt,draggingNodeRect:Ee,over:ye.current.over,overlayNodeRect:me.rect,scrollableAncestors:le,scrollableAncestorRects:tt,windowRect:Ot}),dn=sn?Oe(sn,M):null,fn=Cs(le),Ar=_n(fn),Mr=_n(fn,[te]),we=Oe(nt,Ar),Se=Ee?ji(Ee,nt):null,Ne=$&&Se?f({active:$,collisionRect:Se,droppableRects:Ce,droppableContainers:be,pointerCoordinates:dn}):null,hn=Qi(Ne,"id"),[de,vn]=L(null),Fr=cn?nt:Oe(nt,Mr),Nr=ki(Fr,(s=de?.rect)!=null?s:null,te),pn=U((K,W)=>{let{sensor:J,options:fe}=W;if(j.current==null)return;const X=O.get(j.current);if(!X)return;const ne=K.nativeEvent,se=new J({active:j.current,activeNode:X,event:ne,options:fe,context:ye,onStart(re){const Ie=j.current;if(Ie==null)return;const Pe=O.get(Ie);if(!Pe)return;const{onDragStart:rt}=Y.current,it={active:{id:Ie,data:Pe.data,rect:k}};Qe(()=>{rt?.(it),R(ve.Initializing),g({type:_.DragStart,initialCoordinates:re,active:Ie}),C({type:"onDragStart",event:it})})},onMove(re){g({type:_.DragMove,coordinates:re})},onEnd:Re(_.DragEnd),onCancel:Re(_.DragCancel)});Qe(()=>{G(se),Z(K.nativeEvent)});function Re(re){return async function(){const{active:Pe,collisions:rt,over:it,scrollAdjustedTranslate:mn}=ye.current;let _e=null;if(Pe&&mn){const{cancelDrop:Le}=Y.current;_e={activatorEvent:ne,active:Pe,collisions:rt,delta:mn,over:it},re===_.DragEnd&&typeof Le=="function"&&await Promise.resolve(Le(_e))&&(re=_.DragCancel)}j.current=null,Qe(()=>{g({type:re}),R(ve.Uninitialized),vn(null),G(null),Z(null);const Le=re===_.DragEnd?"onDragEnd":"onDragCancel";if(_e){const Dt=Y.current[Le];Dt?.(_e),C({type:Le,event:_e})}})}}},[O]),Ir=U((K,W)=>(J,fe)=>{const X=J.nativeEvent,ne=O.get(fe);if(j.current!==null||!ne||X.dndKit||X.defaultPrevented)return;const se={active:ne};K(J,W.options,se)===!0&&(X.dndKit={capturedBy:W.sensor},j.current=fe,pn(J,W))},[O,pn]),yn=hs(d,Ir);Es(d),ue(()=>{te&&T===ve.Initializing&&R(ve.Initialized)},[te,T]),N(()=>{const{onDragMove:K}=Y.current,{active:W,activatorEvent:J,collisions:fe,over:X}=ye.current;if(!W||!J)return;const ne={active:W,activatorEvent:J,collisions:fe,delta:{x:we.x,y:we.y},over:X};Qe(()=>{K?.(ne),C({type:"onDragMove",event:ne})})},[we.x,we.y]),N(()=>{const{active:K,activatorEvent:W,collisions:J,droppableContainers:fe,scrollAdjustedTranslate:X}=ye.current;if(!K||j.current==null||!W||!X)return;const{onDragOver:ne}=Y.current,se=fe.get(hn),Re=se&&se.rect.current?{id:se.id,rect:se.rect.current,data:se.data,disabled:se.disabled}:null,re={active:K,activatorEvent:W,collisions:J,delta:{x:X.x,y:X.y},over:Re};Qe(()=>{vn(Re),ne?.(re),C({type:"onDragOver",event:re})})},[hn]),ue(()=>{ye.current={activatorEvent:z,active:$,activeNode:ee,collisionRect:Se,collisions:Ne,droppableRects:Ce,draggableNodes:O,draggingNode:et,draggingNodeRect:Ee,droppableContainers:D,over:de,scrollableAncestors:le,scrollAdjustedTranslate:we},k.current={initial:Ee,translated:Se}},[$,ee,Ne,Se,O,et,Ee,Ce,D,de,le,we]),cs({...on,delta:M,draggingRect:Se,pointerCoordinates:dn,scrollableAncestors:le,scrollableAncestorRects:tt});const Pr=I(()=>({active:$,activeNode:ee,activeNodeRect:te,activatorEvent:z,collisions:Ne,containerNodeRect:Rt,dragOverlay:me,draggableNodes:O,droppableContainers:D,droppableRects:Ce,over:de,measureDroppableContainers:Ze,scrollableAncestors:le,scrollableAncestorRects:tt,measuringConfiguration:ae,measuringScheduled:rn,windowRect:Ot}),[$,ee,te,z,Ne,Rt,me,O,D,Ce,de,Ze,le,tt,ae,rn,Ot]),_r=I(()=>({activatorEvent:z,activators:yn,active:$,activeNodeRect:te,ariaDescribedById:{draggable:ce},dispatch:g,draggableNodes:O,over:de,measureDroppableContainers:Ze}),[z,yn,$,te,g,ce,O,de,Ze]);return l.createElement(nr.Provider,{value:m},l.createElement(St.Provider,{value:_r},l.createElement(Ms.Provider,{value:Pr},l.createElement(pr.Provider,{value:Nr},c)),l.createElement(Is,{disabled:a?.restoreFocus===!1})),l.createElement(_i,{...a,hiddenTextDescribedById:ce}));function Lr(){const K=oe?.autoScrollEnabled===!1,W=typeof u=="object"?u.enabled===!1:u===!1,J=E&&!K&&!W;return typeof u=="object"?{...u,enabled:J}:{enabled:J}}}),qs=Ge(null),Ln="button",Us="Droppable";function ks(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=Et(Us),{activators:o,activatorEvent:a,active:u,activeNodeRect:c,ariaDescribedById:d,draggableNodes:f,over:v}=Be(St),{role:h=Ln,roleDescription:y="draggable",tabIndex:p=0}=i??{},b=u?.id===t,g=Be(b?pr:qs),[C,m]=yt(),[T,R]=yt(),E=ws(o,t),S=ze(n);ue(()=>(f.set(t,{id:t,key:s,node:C,activatorNode:T,data:S}),()=>{const M=f.get(t);M&&M.key===s&&f.delete(t)}),[f,t]);const O=I(()=>({role:h,tabIndex:p,"aria-disabled":r,"aria-pressed":b&&h===Ln?!0:void 0,"aria-roledescription":y,"aria-describedby":d.draggable}),[r,h,p,b,y,d.draggable]);return{active:u,activatorEvent:a,activeNodeRect:c,attributes:O,isDragging:b,listeners:r?void 0:E,node:C,over:v,setNodeRef:m,setActivatorNodeRef:R,transform:g}}const $s="Droppable",js={timeout:25};function Ks(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=Et($s),{active:o,dispatch:a,over:u,measureDroppableContainers:c}=Be(St),d=P({disabled:n}),f=P(!1),v=P(null),h=P(null),{disabled:y,updateMeasurementsFor:p,timeout:b}={...js,...i},g=ze(p??r),C=U(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(g.current)?g.current:[g.current]),h.current=null},b)},[b]),m=wt({callback:C,disabled:y||!o}),T=U((O,M)=>{m&&(M&&(m.unobserve(M),f.current=!1),O&&m.observe(O))},[m]),[R,E]=yt(T),S=ze(t);return N(()=>{!m||!R.current||(m.disconnect(),f.current=!1,m.observe(R.current))},[R,m]),ue(()=>(a({type:_.RegisterDroppable,element:{id:r,key:s,disabled:n,node:R,rect:v,data:S}}),()=>a({type:_.UnregisterDroppable,key:s,id:r})),[r]),N(()=>{n!==d.current.disabled&&(a({type:_.SetDroppableDisabled,id:r,key:s,disabled:n}),d.current.disabled=n)},[r,s,n,a]),{active:o,rect:v,isOver:u?.id===r,node:R,over:u,setNodeRef:E}}var Bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mr={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)t.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(mr);var zs=mr.exports;const Hs=yr(zs),pe=window.Liferay||{Icons:{spritemap:""},Util:{openToast:()=>null},authToken:""};function Fe(e,t="GET",n){return fetch(e,{body:n,headers:{accept:"application/json","content-Type":"application/json","x-csrf-token":pe.authToken},method:t})}async function Gs(e){return(await(await Fe(`/o/headless-admin-list-type/v1.0/list-type-definitions/by-external-reference-code/${e}/list-type-entries`)).json())?.items.map(r=>({key:r.key,name:r.name}))}const gr="J3Y7_PRIORITIES",br="J3Y7_REGIONS",Cr="J3Y7_RESOLUTIONS",Er="J3Y7_STATUSES",wr="J3Y7_TYPES",Ys=[gr,Cr,br,Er,wr];async function Ws(){const e={};for(const t of Ys){const n=await Gs(t),r={entriesArray:n,entriesMap:{}};n.forEach(i=>{r.entriesMap[i.name]=i}),e[t]=r}return e}const Ue=await Ws(),Js=["My Object Definition Is Not Deploying in My Batch Client Extension","A Theme CSS Client Extension Is Not Showing on My Search Page","I Would Like to Change My Site's Icon Through a Client Extension","When Updating a Custom Element React App, the URL Metadata Is Not Specified Correctly","Liferay Is Not Triggering My Spring Boot App From an Object Action","Client Extensions Are Amazing - How Can I Learn More?"];function qe(e){return e[Math.floor(Math.random()*e.length)]}async function Xs({queryKey:e}){const[,{filter:t,page:n,pageSize:r,search:i}]=e;let s="",o="";return t?.field&&t?.value&&(s="&filter="+encodeURIComponent(`${t.field} eq '${t.value}'`)),i&&(o="&search="+encodeURIComponent(i)),(await Fe(`/o/c/j3y7tickets?pageSize=${r}&page=${n}&sort=dateModified:desc${s}${o}&nestedFields=userToJ3Y7Ticket`)).json()}async function Vs(){return(await Fe("/o/c/j3y7tickets?pageSize=3&page=1&sort=dateModified:desc")).json()}async function Zs(){const e=Ue[gr].entriesArray,t=Ue[br].entriesArray,n=Ue[Cr].entriesArray,r=Ue[wr].entriesArray;return Fe("/o/c/j3y7tickets","POST",JSON.stringify({priority:{key:qe(e).key},region:{key:qe(t).key},resolution:{key:qe(n).key},status:{code:0},subject:qe(Js),ticketStatus:{key:"open"},type:{key:qe(r).key}}))}async function eo(e){const t=await Fe(`/o/c/j3y7tickets/${e.id}`,"PATCH",JSON.stringify({id:e.id,ticketStatus:Ue[Er].entriesMap[e.ticketStatus]}));if(!t.ok){const n=await t.json();throw new Error(JSON.stringify(n))}}async function to(e){const t=await Fe(`/o/c/j3y7tickets/by-external-reference-code/${e.externalReferenceCode}/object-actions/AssignTicketToMe`,"PUT");if(!t.ok){const n=await t.json();throw new Error(`${n.status} - ${n.title}`)}}const no=({ticket:e})=>{const[t,n]=L(!1),[r,i]=L(!1),s=We(),{attributes:o,isDragging:a,listeners:u,setNodeRef:c,transform:d}=ks({data:e,id:e.id+"_draggable"}),f=Hs({"bg-brand-primary-lighten-6":a,"bg-neutral-0":!a,"border border-neutral-2 mb-4 py-2":!0}),v=Wt({mutationFn:async h=>(n(!0),await to(h)),onError:h=>{n(!1),pe.Util.openToast({message:h.message,title:"Request Failed",type:"danger"})},onSuccess:()=>{n(!1),s.invalidateQueries(),pe.Util.openToast({message:"The ticket was successfully assigned to you!",type:"success"})}});return l.createElement("div",{...o,className:f,ref:c,style:{position:"relative",transform:$t.Translate.toString(d),zIndex:a?150:1}},l.createElement(Q.ContentRow,{padded:!0},l.createElement(Q.ContentCol,{className:"justify-content-center p-2",shrink:!0},l.createElement(It,{...u,style:{cursor:"grab"},symbol:"drag"})),l.createElement(Q.ContentCol,{shrink:!0},l.createElement(xt,{className:"border-0 m-0 p-0",collapsable:!0,displayTitle:l.createElement(xt.Title,null,l.createElement("div",{className:`text-neutral-9 font-weight-bold ${r?"text-paragraph":"text-truncate text-paragraph-sm"}`},e.subject),l.createElement("div",{className:"font-weight-normal mt-3 text-neutral-8 text-paragraph-xs"},e.assignee?l.createElement(l.Fragment,null,l.createElement(It,{className:"mr-1 rounded-circle",symbol:"user"}),l.createElement("span",null,`${e.assignee?.givenName} ${e.assignee?.familyName}`)):l.createElement("div",{className:"ml-2"},"Not assigned."))),displayType:"secondary",expanded:r,onExpandedChange:i,showCollapseIcon:!0},l.createElement(xt.Body,null,l.createElement("div",{className:"font-weight-normal text-neutral-8 text-paragraph-sm"},e.description?e.description:"No description available."),!e.assignee&&l.createElement($n,{className:"mt-3",displayType:"secondary",onClick:()=>v.mutate(e),size:"xs"},t&&l.createElement("span",{className:"inline-item inline-item-before"},l.createElement(Pt,{displayType:"secondary",size:"sm"})),"Assign to Me"))))))},ro=({name:e,relatedTickets:t})=>{const{setNodeRef:n}=Ks({data:{status:e},id:e+"_droppable"});return l.createElement("div",{className:"bg-neutral-1 h-100 min-vh-100 p-3 rounded",ref:n},l.createElement("p",{className:"font-weight-bold"},e),!t?.length&&l.createElement("div",{className:"font-weight-normal text-neutral-9 text-paragraph-sm"},"No tickets are available."),t.map(r=>l.createElement(no,{key:r.id,ticket:r})))};function Sr(e){let t=[];try{t=JSON.parse(e?.suggestions)}catch{}return delete e.actions,{assignee:e.userToJ3Y7Ticket,dateCreated:new Date(e.dateCreated),dateModified:new Date(e.dateModified),description:e.description,externalReferenceCode:e.externalReferenceCode,id:e.id,payload:e,priority:e.priority?.name,region:e.region?.name,resolution:e.resolution?.name,subject:e.subject,suggestions:t,ticketStatus:e.ticketStatus?.name,type:e.type?.name}}const Rr=({filter:e,page:t,pageSize:n,search:r})=>{const i=Vn(["tickets",{filter:e,page:t,pageSize:n,search:r}],({queryKey:o})=>Xs({queryKey:o}),{refetchInterval:5e3,refetchOnMount:!0});return I(()=>i.isSuccess?{rows:i?.data?.items?.map(Sr),totalCount:i?.data?.totalCount}:{rows:[],totalCount:0},[i?.data?.items,i?.data?.totalCount,i.isSuccess])},Or={field:"",label:"",value:""},st={NO_CHANGE:"NO_CHANGE",STATUS_CHANGED:"STATUS_CHANGED"},io=["Open","In Progress","Answered","Closed"],so={opacity:.5,zIndex:1},oo={opacity:1,zIndex:2},nn=({screenType:e})=>{const t=We(),[n,r]=L(!1),{rows:i}=Rr({filter:Or,page:0,pageSize:1e3,search:""}),s=I(()=>{const u={};return i.forEach(c=>{u[c.ticketStatus]||(u[c.ticketStatus]=[]),u[c.ticketStatus].push(c)}),u},[i]),o=async u=>{if(!u||!u.over||!u.over.id)return st.NO_CHANGE;const c=u.active.data.current,d=u.over.data.current.status;if(c.ticketStatus!==d){const f={...c,ticketStatus:d};return await eo(f),st.STATUS_CHANGED}else return st.NO_CHANGE},a=Wt({mutationFn:u=>(r(!0),o(u)),onError:()=>{r(!1),t.invalidateQueries(),pe.Util.openToast({message:"Unable to update ticket status.",title:"Request Failed",type:"danger"})},onSuccess:u=>{r(!1),u===st.STATUS_CHANGED&&(t.invalidateQueries(),pe.Util.openToast({message:"Ticket status was updated successfully!",type:"success"}))}});return l.createElement("div",{className:"position-relative"},e===De.INTEGRATED&&l.createElement(Q.ContentRow,{className:"align-items-center bg-neutral-1 mb-3 p-3 rounded"},n&&l.createElement(Pt,{className:"m-0 mr-2",displayType:"secondary",size:"md"}),l.createElement("div",{className:"text-11"},"Ticket Dashboard by Status")),e===De.STANDALONE&&n&&l.createElement(Q.ContentRow,{className:"h-100 position-absolute pt-5 w-100",padded:!0,style:oo},l.createElement(Pt,{className:"d-block",displayType:"secondary",size:"lg"})),l.createElement(Q.ContentRow,{style:n?so:{}},l.createElement(Qs,{onDragEnd:u=>{a.mutate(u)}},io.map(u=>l.createElement("div",{className:"autofit-col mx-3 w-25",key:u},l.createElement(ro,{name:u,relatedTickets:s[u]?s[u]:[]}))))))};var Dr={exports:{}};(function(e,t){(function(n,r){var i=i||{};typeof i=="function"&&i.amd?i([],r):e.exports=r()})(Bs,function(){const n={year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3},r="en",i={numeric:"auto"};function s(o){o={locale:(o=o||{}).locale||r,options:{...i,...o.options}},this.rtf=new Intl.RelativeTimeFormat(o.locale,o.options)}return s.prototype={from(o,a){const u=o-(a||new Date);for(let c in n)if(Math.abs(u)>n[c]||c=="second")return this.rtf.format(Math.round(u/n[c]),c)}},s})})(Dr);var ao=Dr.exports;const uo=yr(ao),co=new uo,lo=['Ticket #1234 closed with status "Resolved" by administrator',`Ticket #4566 closed with status "Won't fix" by administrator`],fo=({tickets:e})=>e.length?l.createElement(l.Fragment,null,e.map((t,n)=>l.createElement("li",{className:"pb-2",key:n},l.createElement("span",null,`Ticket #${t.id}`,l.createElement("em",null,t.subject),`was updated with status "${t.ticketStatus}" for support region ${t.region} ${co.from(t.dateCreated)}. `),!!t.suggestions?.length&&l.createElement("div",{className:"m-2 p-2"},l.createElement("em",null,"Update:")," Here are some suggestions for resources re: this ticket:",t.suggestions.map((r,i)=>l.createElement("span",{key:i},l.createElement("a",{href:r.assetURL,key:i,rel:"noreferrer",target:"_blank"},r.text),",")))))):l.createElement(l.Fragment,null,lo.map((t,n)=>l.createElement("li",{key:n},t))),ho=({tickets:e})=>l.createElement("div",{className:"col px-0"},l.createElement("div",{className:"bg-neutral-1 my-3 p-3 w-100"},l.createElement("h2",null,"Recent Activity"),l.createElement("ul",null,l.createElement(fo,{tickets:e})))),vo=({tickets:e})=>l.createElement("div",{className:"border border-light p-1 rounded w-100"},l.createElement("table",{className:"table table-borderless"},l.createElement("thead",null,l.createElement("tr",null,l.createElement("th",null,l.createElement(It,{className:"mr-1",spritemap:pe.Icons.spritemap,symbol:"link"}),"Subject"),l.createElement("th",null,"Resolution"),l.createElement("th",null,"Status"),l.createElement("th",null,"Priority"),l.createElement("th",null,"Region"))),l.createElement("tbody",null,e.map(t=>l.createElement("tr",{className:"border-top",key:t.id},l.createElement("td",null,t.subject),l.createElement("td",null,t.resolution?t.resolution:"N/A"),l.createElement("td",null,t.ticketStatus),l.createElement("td",null,t.priority),l.createElement("td",null,t.region))))));function Qn(e,t){const[n,r]=L(e);return N(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}const po=()=>{const e=Vn(["recentTickets"],Vs,{refetchInterval:5e3,refetchOnMount:!1});return I(()=>e.isSuccess?e.data?.items.map(Sr):[],[e.data?.items,e.isSuccess])},qn=300,Un=[{field:"",label:"No Filter",value:""},{field:"ticketStatus",label:"Open Issues",value:"open"},{field:"ticketStatus",label:"Queued Issues",value:"queued"},{field:"priority",label:"Major Priority Issues",value:"major"},{field:"resolution",label:"Unresolved Issues",value:"unresolved"}],xr=()=>{const e=We(),[t,n]=L(Or),[r,i]=L(1),[s,o]=L(20),[a,u]=L(""),c=Qn(a,qn),d=Qn(r,qn),f=po(),{rows:v,totalCount:h}=Rr({filter:t,page:d,pageSize:s,search:c}),y=Wt({mutationFn:Zs,onSuccess:()=>{e.invalidateQueries(),i(1),pe.Util.openToast({message:"A new ticket was added!",type:"success"})}});return l.createElement(l.Fragment,null,l.createElement(Q.ContentRow,{className:"bg-neutral-1 justify-content-between mb-3 p-3 rounded"},l.createElement(Q.ContentCol,{className:"text-11"},"Your Tickets"),l.createElement(Q.ContentCol,{float:"end"},l.createElement($n,{displayType:"primary",onClick:()=>{y.mutate()}},"Generate a New Ticket"))),l.createElement(Q.ContentRow,{className:"mb-3",padded:!0},l.createElement(Q.ContentCol,{expand:!0},l.createElement(zr,{onChange:p=>{u(p.target.value),i(1)},placeholder:"Search Tickets",type:"text"})),l.createElement(Q.ContentCol,null,l.createElement(Kr,{"aria-label":"Select a Filter",items:Un,onSelectionChange:p=>{i(1);const b=Un.find(g=>g.value===p);b&&n(b)},placeholder:"Select a Filter"},p=>l.createElement(Br,{key:p.value},p.label)))),l.createElement(Q.ContentRow,{padded:!0},l.createElement(vo,{tickets:v})),l.createElement(Q.ContentRow,{className:"mt-3",padded:!0},l.createElement(Hr,{active:r,activeDelta:s,ellipsisBuffer:3,onActiveChange:i,onDeltaChange:o,totalItems:h})),l.createElement(Q.ContentRow,{padded:!0},l.createElement(ho,{tickets:f})))},Tr=[{element:l.createElement(nn,{screenType:De.INTEGRATED}),href:"#dashboard",label:"Dashboard"},{element:l.createElement(xr,null),href:"#overview",label:"Tickets Overview"}],zt={};Tr.forEach(e=>{zt[e.href]=e.element});const yo=()=>{const{hash:e}=wi("#dashboard");return l.createElement(Q.ContentRow,{padded:!0},l.createElement(Q.ContentCol,null,l.createElement("div",{className:"mb-2 text-uppercase"},"Site"),l.createElement(gn,{active:e,items:Tr,large:!1},t=>l.createElement(gn.Item,{href:t.href,key:t.href},t.label))),l.createElement(Q.ContentCol,{expand:!0},zt[e]?zt[e]:l.createElement(nn,{screenType:De.INTEGRATED})))},mo={dashboard:l.createElement(nn,{screenType:De.STANDALONE}),overview:l.createElement(xr,null)},go=({defaultScreen:e})=>mo[e]??l.createElement(yo,null),bo=new di,Co=({defaultScreen:e})=>l.createElement(mi,{client:bo},l.createElement(Qr.Provider,{value:pe.Icons.spritemap},l.createElement(go,{defaultScreen:e})));class Eo extends HTMLElement{connectedCallback(){const t=this.getAttribute("defaultScreen")||"";kr.render(l.createElement(Co,{defaultScreen:t}),this)}}const kn="liferay-ticket-custom-element";customElements.get(kn)||customElements.define(kn,Eo);
